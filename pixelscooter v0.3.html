<html>
<head>
<title>Game</title>
<script lang=JavaScript>
 function abs(x){
   if(x<0)
	return x*-1;
   else
    return x;
 }
 dx=0;
 dy=0;
 up=false;
 down=false;
 right=false;
 left=false;
 size = 5;
 function tick(){
    dx = dx*0.98;
    dy = dy*0.98;
    if(up)
     dy = dy-0.1;
	if(down)
	 dy = dy+0.1;
	if(right)
	 dx = dx+0.1;
	if(left)
	 dx = dx-0.1;
	x = x + dx;
	if(x-size*1.5<0){
		x=size*1.5;
		dx = -dx;
	}
	if(x+size*1.5>canvas.width){
		x = canvas.width-size*1.5;
		dx = -dx;
	}
	y = y + dy;
	if(y-size*1.5<0){
		y=size*1.5;
		dy = -dy;
	}
	if(y+size*1.5>canvas.height){
		y = canvas.height-size*1.5;
		dy = -dy;
	}
	context = document.getElementById('canvas').getContext('2d');
	context.fillStyle = '#000000';
	context.fillRect(0,0,canvas.width,canvas.height);
	context.fillStyle = '#FF8800';
	context.fillRect(x-(size*1.5),y-(size*1.5),size*3,size*3);
	context.fillStyle = '#FFFF00';
	mx = x-Math.floor(size/2);
	my = y-Math.floor(size/2);
	if(abs(dx)*3>abs(dy)){
	if(dx*dx<0.1){
	}else if(dx<0){
	 mx = x-(size*1.5);
	}else {
	 mx = x+(size*0.5);
	}}
	if(abs(dx)<3*abs(dy)){
	if(dy*dy<0.1){
	}else if(dy<0){
	 my = y-(size*1.5);
	}else {
	 my = y+(size*0.5);
	}}
	context.fillRect(mx,my,size,size);
 }
 function TasteGedrueckt(evt){
    if(evt.key=="ArrowRight")
     right=true;
    else if(evt.key=="ArrowUp")
	 up=true;
	else if(evt.key=="ArrowLeft")
	 left=true;
	else if(evt.key=="ArrowDown")
	 down=true;
 }
 function TasteLosgelassen(evt){
    if(evt.key=="ArrowRight")
     right=false;
    else if(evt.key=="ArrowUp")
	 up=false;
	else if(evt.key=="ArrowLeft")
	 left=false;
	else if(evt.key=="ArrowDown")
	 down=false;
 }
</script>
</head>
<body id="Seite">
<canvas id="canvas" width=100 height=100>
</canvas>
<script lang=JavaScript>
  var elem = document.getElementById('Seite');
  elem.addEventListener("keydown", TasteGedrueckt );
  elem.addEventListener("keyup", TasteLosgelassen);
  canvas = document.getElementById('canvas');
  canvas.width = window.innerWidth-20;
  canvas.height = window.innerHeight-20;
  x=canvas.width/2;
  y=canvas.height/2;
  window.setInterval(tick,50);
  alert("Steuerung: Pfeiltasten\nDu prallst an Waenden ab.");
</script>
</body>
</html>